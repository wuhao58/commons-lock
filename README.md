###  1. 组件列表
|  组件   | 版本  | 说明  |
|  ----  | ----  | ----  |
| spring-boot  | 2.2.5.RELEASE |   |
| lettuce  | 5.2.2.RELEASE |  redis客户端 |


###  2. 需求解决
- 基于redis分布式锁，实现可重入锁，让调用更简单。
- 基于lua脚本(redisUnlock.lua)，实现可重入锁。


###  3. 加锁方式
- 注释加锁
  - 优点：基于方法级加锁，使用简洁，无须考虑锁释放
  - 缺点：加锁范围较大
  - 注意：基于AOP实现，方法必须是public，内部方法调用注解失效，锁过期时间需根据业务自行判断
  - 使用：@DistributedLock， 支持SpEL表达式
- 编码加锁
  - 优点：加锁范围可自行控制
  - 缺点：需手动释放锁，注意死锁情况
  - 注意：锁过期时间需根据业务自行判断
  - 使用：LockService.java，请查阅代码